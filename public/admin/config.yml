# Use DecapBridge auth
backend:
  name: git-gateway
  repo: bemayer/static-blog
  branch: main
  identity_url: https://auth.decapbridge.com/sites/1c9d8a4a-aec1-4db2-990b-1475bdb0c04b
  gateway_url: https://gateway.decapbridge.com
  commit_messages:
    create: '✨ Create {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}>'
    update: '📝 Update {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> '
    delete: '🗑️ Delete {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> '
    uploadMedia: '📸 Upload "{{path}}" - {{author-name}} <{{author-login}}>'
    deleteMedia: '🗑️ Delete media "{{path}}" - {{author-name}} <{{author-login}}'
    openAuthoring: '💬 {{message}} - {{author-name}} <{{author-login}}'

# Better Decap + Bridge logo
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Add site links in DecapCMS
site_url: https://bemayer.github.io/static-blog/

media_folder: "public/images"
public_folder: "/static-blog/images"

# Editorial workflow for content review
publish_mode: editorial_workflow

# Enable local development
local_backend: true

collections:
  - name: "blog"
    label: "Blog Posts"
    folder: "posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string", required: true }
      - {
          label: "Publish Date",
          name: "date",
          widget: "datetime",
          required: true,
          format: "YYYY-MM-DDTHH:mm:ss.SSSZ",
          date_format: "YYYY-MM-DD",
          time_format: "HH:mm:ss",
        }
      - {
          label: "Author",
          name: "author",
          widget: "string",
          required: false,
          hint: "Leave empty for default author",
        }
      - {
          label: "Tags",
          name: "tags",
          widget: "list",
          required: false,
          hint: "Add relevant tags for categorization",
          allow_add: true,
        }
      - {
          label: "Description",
          name: "description",
          widget: "text",
          required: false,
          hint: "Brief description for SEO and social sharing",
        }
      - {
          label: "Featured Image",
          name: "featured_image",
          widget: "image",
          required: false,
          hint: "Main image for the post",
        }
      - {
          label: "Draft",
          name: "draft",
          widget: "boolean",
          default: false,
          hint: "Check to save as draft (won't appear on site)",
        }
      - { label: "Body", name: "body", widget: "markdown", required: true }

  - name: "settings"
    label: "Site Settings"
    files:
      - label: "Site Configuration"
        name: "site_config"
        file: "config/site.yml"
        fields:
          - {
              label: "Site Title",
              name: "title",
              widget: "string",
              default: "Static Blog",
            }
          - {
              label: "Site Description",
              name: "description",
              widget: "text",
              default: "A modern static blog built with Next.js and Deno",
            }
          - { label: "Site URL", name: "url", widget: "string" }
          - {
              label: "Default Author",
              name: "author_name",
              widget: "string",
              default: "Blog Author",
            }
          - { label: "Author Email", name: "author_email", widget: "string" }
          - {
              label: "Social Links",
              name: "social",
              widget: "object",
              collapsed: false,
              fields: [
                {
                  label: "Twitter",
                  name: "twitter",
                  widget: "string",
                  required: false,
                },
                {
                  label: "GitHub",
                  name: "github",
                  widget: "string",
                  required: false,
                },
                {
                  label: "LinkedIn",
                  name: "linkedin",
                  widget: "string",
                  required: false,
                },
              ],
            }
          - {
              label: "Analytics ID",
              name: "analytics_id",
              widget: "string",
              required: false,
            }
          - {
              label: "Enable Comments",
              name: "enable_comments",
              widget: "boolean",
              default: false,
            }
